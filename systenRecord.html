<!--
 * @Author: Escher1108
 * @Website: https://jkgblog.com
 * @Date: 2020-10-20 20:27:36
 * @LastEditTime: 2020-10-21 11:57:51
 * @LastEditors: Do not edit
 * @FilePath: \HB\Workspace\项目\first\systenRecord.html
 * @Description: 耶斯莫拉
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./assets/css/nav.css">
    <link rel="stylesheet" href="./assets/css/bulma.min.css">
    <link rel="stylesheet" type="text/css" href="./font/iconfont.css">
    <link rel="stylesheet" href="./assets/css/sweetalert2.min.css">
    <script src="./assets/js/sweetalert2.min.js"></script>
    <script src="./assets/js/jquery.min.js"></script>
    <title>Document</title>
    <style>
        .headert {
            border-left: 3px blue solid;
            padding: 4px;
            width: 100%;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="box">
            <!-- 面包屑导航 -->
            <nav class="breadcrumb" aria-label="breadcrumbs">
                <ul>
                    <li><a href="#">首页</a></li>
                    <li><a href="#">系统配置</a></li>
                    <li class="is-active"><a href="#" aria-current="page">系统日志</a></li>
                </ul>
            </nav>

            <div class="columns is-mobile is-vcentered">
                <div class="column">
                    <div class="level">
                        <div class="level-left">
                            <div class="headert">
                                <p class="is-inline">日志列表</p><span>(共<span id="txtval">23</span>条记录)</span>
                            </div>
                        </div>
                        <div class="level-right" id="search">
                            <input type="text" class="input is-small" placeholder="请输入查找内容..." id="searchVal">
                            <button class="button is-info is-small" id="searchBtn">查找</button>
                        </div>
                        <div class="level-right" style="display: none;" id="delete">
                            <button class="button is-danger is-small">删除</button>
                        </div>
                    </div>
                </div>
            </div>

            <table class="table  is-striped is-narrow is-hoverable is-fullwidth">
                <thead>
                    <tr>
                        <th>
                            <label class="checkbox">
                                <input type="checkbox" id='qx'>全选
                            </label>
                        </th>
                        <th>ID</th>
                        <th>操作人</th>
                        <th>操作信息</th>
                        <th>ip</th>
                        <th>更新时间</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <label class="checkbox">
                                <input type="checkbox">
                            </label>
                        </td>
                        <td>1</td>
                        <td>admin</td>
                        <td>删除医药信息</td>
                        <td>127.0.0.1</td>
                        <td>2020.10.20</td>
                        <td>
                            <button class="button is-small is-danger" id="del">删除</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label class="checkbox">
                                <input type="checkbox">
                            </label>
                        </td>
                        <td>2</td>
                        <td>admin</td>
                        <td>删除医药信息</td>
                        <td>127.0.0.1</td>
                        <td>2020.10.20</td>
                        <td>
                            <button class="button is-small is-danger" id="del">删除</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label class="checkbox">
                                <input type="checkbox">
                            </label>
                        </td>
                        <td>3</td>
                        <td>admin</td>
                        <td>删除医药信息</td>
                        <td>127.0.0.1</td>
                        <td>2020.10.20</td>
                        <td>
                            <button class="button is-small is-danger" id="del">删除</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label class="checkbox">
                                <input type="checkbox">
                            </label>
                        </td>
                        <td>4</td>
                        <td>admin</td>
                        <td>删除医药信息</td>
                        <td>127.0.0.1</td>
                        <td>2020.10.20</td>
                        <td>
                            <button class="button is-small is-danger" id="del">删除</button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label class="checkbox">
                                <input type="checkbox">
                            </label>
                        </td>
                        <td>5</td>
                        <td>admin</td>
                        <td>删除医药信息</td>
                        <td>127.0.0.1</td>
                        <td>2020.10.20</td>
                        <td>
                            <button class="button is-small is-danger" id="del">删除</button>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
    </div>

    <script>
        $(function () {
            //全选事件监听
            var fxk = $('input[id != qx]')
            $("#qx").click(function () {				//首先给id为全选的元素增加单击事件
                if (this.checked) {						//判断当前按钮是否被选中
                    for (var i = 0; i < fxk.length; i++) {			//判断之后要循环改变所有复选框的值
                        fxk[i].checked = true;
                        $('#search').css({ "display": "none" })
                        $('#delete').css({ "display": "block" })				//结果为真（选中），则复选框为true;
                    }
                } else {
                    for (var i = 0; i < fxk.length; i++) {
                        fxk[i].checked = false;
                        $('#search').css({ "display": "block" })
                        $('#delete').css({ "display": "none" })
                        location.reload()			    //结果为假（未选中），则复选框为false;
                    }
                }
                
            })

            //删除事件监听
            $('div [id=del]').on('click', function () {
                Swal.fire({
                    title: '您确定吗?',
                    text: "您将无法还原！",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Yes,delete it'
                }).then((result) => {
                    if (result.isConfirmed) {
                        Swal.fire(
                            'Deleted!',
                            'Your file has been deleted.',
                            'success'
                        )
                    }
                })
            })

            //全选删除事件
            $('#delete').click(function(){
                Swal.fire({
                    title: '您确定吗?',
                    text: "您将无法还原！",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Yes,delete it'
                }).then((result) => {
                    if (result.isConfirmed) {
                        Swal.fire(
                            'Deleted!',
                            'Your file has been deleted.',
                            'success'
                        )
                    }
                })
            })

            //搜索事件监听
            $('#searchBtn').click(function(){
               let val = $('#searchVal').val()
               if(val === ""){
                   alert('请输入内容！')
               }else{
                   //此处通过Ajax请求数据进行渲染查询
               }
            })
        })
    </script>
</body>

</html>