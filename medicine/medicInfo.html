<!--
 * @Author: Escher1108
 * @Website: https://jkgblog.com
 * @Date: 2020-10-20 11:55:58
 * @LastEditTime: 2020-10-28 16:15:21
 * @LastEditors: Do not edit
 * @FilePath: \HB\Workspace\项目\first\medicine\medicInfo.html
 * @Description: 耶斯莫拉
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../assets/css/nav.css">
    <link rel="stylesheet" href="../assets/css/bulma.min.css">
    <link rel="stylesheet" type="text/css" href="../font/iconfont.css">
    <link rel="stylesheet" href="../assets/css/sweetalert2.min.css">
    <script src="../assets/js/sweetalert2.min.js"></script>
    <script src="../assets/js/polyfill.min.js"></script>
    <script src="../assets/js/jquery.min.js"></script>
    <title>Document</title>
</head>

<body>
    <div class="container">
        <div class="box">
            <!-- 面包屑导航 -->
            <nav class="breadcrumb" aria-label="breadcrumbs">
                <ul>
                    <li><a href="#">首页</a></li>
                    <li><a href="#">医药管理</a></li>
                    <li class="is-active"><a href="#" aria-current="page">医药信息</a></li>
                </ul>
            </nav>

            <div class="columns">
                <div class="column">
                    <!-- 医药信息总览 -->
                    <div class="level">
                        <div class="level-left">
                            <p class="title">医药信息总览</p>
                        </div>
                        <div class="level-right">
                            <button class="button is-info" id="add">添加</button>
                        </div>
                    </div>
                    <!-- 表格 -->
                    <table class="table is-fullwidth is-bordered is-striped is-narrow is-hoverable" id="main">
                        <thead>
                            <tr>
                                <th>序号</th>
                                <th>药品名称</th>
                                <th>药品功效</th>
                                <th>入库时间</th>
                                <th>入库总量(件)</th>
                                <th>现存余量(件)</th>
                                <th>操作</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>莲花清温</td>
                                <td>止咳去热</td>
                                <td>2017.03.15</td>
                                <td>120</td>
                                <td>90</td>
                                <td>
                                    <button class="button is-primary is-small" id="edit">修改</button>
                                    <button class="button is-danger is-small" id="del">删除</button>
                                </td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>止咳糖浆</td>
                                <td>止咳去热</td>
                                <td>2017.03.15</td>
                                <td>60</td>
                                <td>45</td>
                                <td>
                                    <button class="button is-primary is-small" id="edit">修改</button>
                                    <button class="button is-danger is-small" id="del">删除</button>
                                </td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>枇杷露</td>
                                <td>止咳去热</td>
                                <td>2017.03.15</td>
                                <td>90</td>
                                <td>75</td>
                                <td>
                                    <button class="button is-primary is-small" id="edit">修改</button>
                                    <button class="button is-danger is-small" id="del">删除</button>
                                </td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>止血贴</td>
                                <td>止血</td>
                                <td>2017.03.15</td>
                                <td>20</td>
                                <td>50</td>
                                <td>
                                    <button class="button is-primary is-small" id="edit">修改</button>
                                    <button class="button is-danger is-small" id="del">删除</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- 分页 -->
            <nav class="pagination is-centered" role="navigation" aria-label="pagination">
                <a class="pagination-previous">上一页</a>
                <a class="pagination-next">下一页</a>
                <ul class="pagination-list">
                    <li><a class="pagination-link  is-current" aria-label=" page 1" aria-label="Page 1"
                            aria-current="page">1</a></li>
                    <!-- <li><span class="pagination-ellipsis">&hellip;</span></li> -->
                    <li><a class="pagination-link" aria-label="Goto page 2">2</a></li>
                    <li><a class="pagination-link" aria-label="Goto Page 3">3</a></li>
                    <li><a class="pagination-link" aria-label="Goto page 4">4</a></li>
                    <li><span class="pagination-ellipsis">&hellip;</span></li>
                    <li><a class="pagination-link" aria-label="Goto page 10">10</a></li>
                </ul>
            </nav>
        </div>

        <!-- 模态框 -->
        <div class="modal">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title" id="infoName"></p>
                    <button class="delete" aria-label="close" id='close'></button>
                </header>
                <section class="modal-card-body">
                    <!-- Content ... -->
                    <!-- 药品名称 -->
                    <div class="field">
                        <div class="control">
                            <b>药品名称</b>
                            <input class="input is-primary" type="text" value="枇杷露">
                        </div>
                    </div>
                    <!-- 药品功效 -->
                    <div class="field">
                        <div class="control">
                            <b>药品功效</b>
                            <input class="input is-primary" type="text" value="止咳">
                        </div>
                    </div>
                    <!-- 入库总量 -->
                    <div class="field">
                        <div class="control">
                            <b>入库总量</b>
                            <input class="input is-primary" type="number" value="90">
                        </div>
                    </div>
                </section>
                <footer class="modal-card-foot">
                    <button class="button is-success">确认</button>
                    <button class="button" id='close'>取消</button>
                </footer>
            </div>
        </div>
    </div>

    <script>
        $(function () {
            //测试
            // $('div [id=edit]').each(function(){
            //     var obj = $(this)
            //     obj.click(function(){

            //     })
            // })


            //修改事件
            $('div [id=edit]').on('click', function () {
                $('.modal').addClass('is-active')
                $('#infoName').text('修改信息')

                
                // TaskType = $(this).find("td").eq(0).html();
                // TaskType = $(this).find("td").eq(1).html();
                // TaskType = $(this).find("td").eq(2).html();
                // alert(TaskType)

            })

            //添加事件
            $('#add').on('click', function () {
                $('.modal').addClass('is-active')
                $('#infoName').text('添加信息')
                $('input').val('')
            })


            //取消事件
            $('div [id=close]').on('click', function () {
                $('.modal').removeClass('is-active')
                location.reload()
            })


            //通过Ajax请求删除
            $('div [id=del]').on('click', function () {
                Swal.fire({
                    title: '您确定吗?',
                    text: "您将无法还原！",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Yes,delete it'
                }).then((result) => {
                    //通过Ajax请求到的数据进行判断
                    if (result.isConfirmed) {
                        Swal.fire(
                            'Deleted!',
                            'Your file has been deleted.',
                            'success'
                        )
                    }
                });
            })
        })
    </script>
</body>

</html>